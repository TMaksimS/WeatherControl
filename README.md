# case_GKU
Case for GKU 
# Техническая документация:
  - ### Требования:
    - python 3.10.12,
    - docker version 24.0.6, build ed223bc,
    - pip 23.2.1
    - make 4.3 
  - ### Описание:
    - Проект реализует логику restful api приложения в которое можно записывать данные о городах указывая их координаты,
с автоматически обновляеймой информацией о погоде в этих городах, информация о погоде обноваляется каждый час.
Проект реализует несколько конечных точек для запросов апи, которые доступны в документации после запуска.
Проект разделен на два сервиса: resfulapi и так называемый коллектор, который с определенным интервалом обращается к бд
и обновляет записи о погоде.

### Локальный запуск:
    1. Добавить токен от openweathermap в файл .env
    2. Активировать виртуальное окружение.
    3. Проверить актуальность зависимостей на своем устройстве.
    4. `make up_local` - команда поднимет тестовую БД, сделает миграции и запустит проект.
    5. Для запуска коллектора пропишите `python3 updater.py` из дерриктории проекта.
    Вся документация по апи доступна в браузере после запуска приложения, она автоматически генерируется Swagger.
    6. `make down_local` - команда отключает БД
### Запуск компоуза:
    1. Добавить токен от openweathermap в файл .env
    2. `make up_ci` - команда запустит БД, и оба сервиса.
    Вся документация по апи доступна в браузере после запуска приложения, она автоматически генерируется Swagger.
    3. `make down_ci` - команда останавливает проекты и выключает БД 
